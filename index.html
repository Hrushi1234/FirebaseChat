<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#config-web-app -->

    <script>



      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyDLj1Or5-hZu4FpxY9J2bMMB92np9u0qsE",
        authDomain: "crud-4f54c.firebaseapp.com",
        databaseURL: "https://crud-4f54c.firebaseio.com",
        projectId: "crud-4f54c",
        storageBucket: "crud-4f54c.appspot.com",
        messagingSenderId: "417728642280",
        appId: "1:417728642280:web:240026edeb12116e"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

    </script>
  </head>
  <body>

      <p id="message"></p>
      <br>


<input type="text" name="name"  id="name" value="hrushi">
<button type="button" name="button" onclick= "submitData()">Submit</button>


<script type="text/javascript">


  var database = firebase.database();
  var ref = database.ref('messages');
  var messageList = [];

  ref.orderByChild('message').on('child_added', (snap) => {
    messageList.push(snap.child('message').val());
    document.getElementById('message').innerHTML = "";
    messageList.forEach((message)  => {

      document.getElementById('message').innerHTML += '<br>' + message;
    });

    console.log(messageList);
  });




  function submitData() {

    name = document.getElementById("name").value;
    console.log(name);
    var data = {
      message: name
    }
    ref.push().set(data)  ;


  }
</script>


<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#config-web-app -->

  </body>
</html>
